## 문제
서로 다른 네 종류의 모자 $A$, $B$, $C$, $D$가 각각 $3$개씩 모두 $12$개 있다. $12$개의 모자를 <그림 $1$>과 같이 일정한 간격으로 배열된 $12$개의 모자걸이에 각각 걸려고 한다. 이 때, 모든 가로 방향과 모든 세로 방향에 서로 다른 종류의 모자가 걸리도록 하려고 한다. <그림 $2$>는 이와 같은 방법으로 모자를 건 예이다. 이와 같은 방법으로 $12$개의 모자를 모자걸이에 걸 수 있는 방법의 수를 모두 구하시오. 

> [!example] 📸 (그림/그래프)
> <그림 $1$>

> [!example] 📸 (그림/그래프)
> <그림 $2$>

**[조건]**
단, 같은 종류의 모자끼리는 서로 구별하지 않는다.

## 보기


## 풀이
맨 위 가로줄에 모자를 거는 방법의 수는 $4!$이다. 맨 위에 $A, B, C, D$의 순서로 배열할 때 $A$의 아래에 $B$가 오는 경우는 다음과 같이 $3$가지 경우가 있다.

$$ \begin{array}{|c|c|c|c|c|} \hline \text{맨 위} & A & B & C & D \\ \hline \text{가운데} & B & A & D & C \\ \hline & B & C & D & A \\ \hline & B & D & A & C \\ \hline \end{array} $$

위의 경우 중에서

$$ \begin{array}{|c|c|c|c|c|} \hline \text{맨 위} & A & B & C & D \\ \hline \text{가운데} & B & A & D & C \\ \hline \end{array} $$

인 경우 맨 아래 줄에 배열하는 방법이 $4$가지이고, 나머지 경우는 각각 $2$가지씩 있으므로 구하는 방법의 수는 $4! \times 3 \times 8 = 576$이다.

**정답: $576$**