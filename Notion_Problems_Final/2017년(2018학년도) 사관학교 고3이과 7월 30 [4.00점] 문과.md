## 문제
함수 $f(x)=x^{3}+a x^{2}-a x-a$ 의 역함수가 존재할 때, $f(x)$ 의 역함수를 $g(x)$ 라 하자. 자연수 $n$ 에 대하여 $n \times g'(n)=1$ 을 만족시키는 실수 $a$ 의 개수를 $a_{n}$ 이라 할 때, $\sum_{n=1}^{27} a_{n}$ 의 값을 구하시오.



> [!example] 📸 (그림/그래프)

## 보기

## 풀이
함수 $f(x)=x^{3}+a x^{2}-a x-a$ 의 역함수가 존재하려면 모든 실수 $x$ 에 대하여 $f'(x)=3 x^{2}+2 a x-a \geq 0$ 이어야 한다.
이차방정식 $f'(x)=0$ 의 판별식을 $D$ 라 하면
$$\frac{D}{4} = a^{2}+3 a = a(a+3) \leq 0$$
$$-3 \leq a \leq 0$$
이제 $f(k)=n$ 이라고 하면 $g(n)=k$ 이고, 역함수의 미분법에 의해
$$n \times g'(n) = \frac{n}{f'(k)} = \frac{f(k)}{f'(k)} = 1$$
이므로 $n \times g'(n)=1$ 을 만족시키는 경우는 $f(k)=f'(k)=n$ 인 경우이다.
$f(k)=f'(k)$ 에서
$$k^{3}+a k^{2}-a k-a = 3 k^{2}+2 a k-a$$
$$k^{3}+(a-3) k^{2}-3 a k = 0$$
$$k(k-3)(k+a) = 0$$
따라서 $k=0$ 또는 $k=3$ 또는 $k=-a$ 이다. 각각의 경우에 대하여 $f'(k)=n$ 을 만족하는 실수 $a$ 의 범위를 조사하면 다음과 같다.

$$
\begin{array}{c|c|c}
\hline
\text{구분} & f'(k)=n \text{ 의 식} & a \text{ 의 값} \\ \hline
k=0 & -a=n & a=-n \\ \hline
k=3 & 27+5a=n & a=\frac{n-27}{5} \\ \hline
k=-a & a^{2}-a=n & a=\frac{1-\sqrt{1+4n}}{2} \\ \hline
\end{array}
$$

자연수 $n$ 에 대하여 $-3 \leq a \leq 0$ 을 만족하는 실수 $a$ 의 개수 $a_{n}$ 을 구하면 다음과 같다.
(ⅰ) $k=0 \implies a=-n$: $n=1, 2, 3$ 일 때 $a \in \{-1, -2, -3\}$ 으로 조건 만족.
(ⅱ) $k=3 \implies a=\frac{n-27}{5}$: $12 \leq n \leq 27$ 일 때 $-3 \leq a \leq 0$ 만족.
(ⅲ) $k=-a \implies a=\frac{1-\sqrt{1+4n}}{2}$: $1 \leq n \leq 12$ 일 때 $-3 \leq a \leq 0$ 만족.

각 $n$ 에 따른 $a_{n}$ 의 값은 다음과 같다.
- $n=1, 2$ 일 때: (ⅰ), (ⅲ)에서 각각 $1$ 개씩 발생하므로 $a_{1}=a_{2}=2$.
- $n=3$ 일 때: (ⅰ)에서 $a=-3$, (ⅲ)에서 $a=\frac{1-\sqrt{13}}{2}$ 이므로 $a_{3}=2$.
- $n=4, \dots, 11$ 일 때: (ⅲ)에서만 $1$ 개 발생하므로 $a_{n}=1$.
- $n=12$ 일 때: (ⅱ)에서 $a=-3$, (ⅲ)에서 $a=-3$ 으로 중복되므로 $a_{12}=1$.
- $n=13, \dots, 27$ 일 때: (ⅱ)에서만 $1$ 개 발생하므로 $a_{n}=1$.

따라서 $a_{1}=a_{2}=a_{3}=2$ 이고, $a_{4}=a_{5}=\cdots=a_{27}=1$ 이다.
$$\sum_{n=1}^{27} a_{n} = (2 \times 3) + (1 \times 24) = 6+24=30$$
정답: $30$