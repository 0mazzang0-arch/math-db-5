## 문제
자연수 $n$에 대하여 다음 조건을 만족시키는 정사각형의 개수를 $S_{n}$이라 하자.

(가) 정사각형은 한 변의 길이가 $1$이고 꼭짓점의 $x$좌표와 $y$좌표가 모두 정수이다.
(나) 연립부등식 $\frac{1}{2} x^{2} < y < x^{2}$, $0 < x < 2n-1$을 만족시키는 점 $(x, y)$ 중에는 정사각형의 내부에 있는 점이 있다.

$\lim_{n \to \infty} \frac{S_{n+1}-S_{n}}{n^{2}}$의 값을 구하시오.

## 풀이
$S_{n+1} - S_{n}$의 값은 $2n-1 \le x < 2n+1$에서 조건을 만족시키는 정사각형의 개수와 같다.

$f(x) = x^{2}$, $g(x) = \frac{1}{2} x^{2}$이라 하자.

> [!example] 📸 (그림/그래프)

(ⅰ) $2n-1 \le x < 2n$일 때,
$f(2n) = (2n)^{2} = 4n^{2}$,
$g(2n-1) = \frac{1}{2} \times (2n-1)^{2} = 2n^{2} - 2n + \frac{1}{2}$
$2n^{2} - 2n$보다 크거나 같고 $4n^{2}$보다 작은 자연수의 개수와 같다. 즉, 정사각형의 개수는
$4n^{2} - (2n^{2} - 2n) = 2n^{2} + 2n$

(ⅱ) $2n \le x < 2n+1$일 때,
$f(2n+1) = (2n+1)^{2} = 4n^{2} + 4n + 1$,
$g(2n) = \frac{1}{2} \times (2n)^{2} = 2n^{2}$
$2n^{2}$보다 크거나 같고 $4n^{2} + 4n + 1$보다 작은 자연수의 개수와 같다. 즉, 정사각형의 개수는
$(4n^{2} + 4n + 1) - 2n^{2} = 2n^{2} + 4n + 1$

(ⅰ), (ⅱ)에서
$S_{n+1} - S_{n} = (2n^{2} + 2n) + (2n^{2} + 4n + 1) = 4n^{2} + 6n + 1$
이므로
$\lim_{n \to \infty} \frac{S_{n+1} - S_{n}}{n^{2}} = \lim_{n \to \infty} \frac{4n^{2} + 6n + 1}{n^{2}}$
$= \lim_{n \to \infty} \left( 4 + \frac{6}{n} + \frac{1}{n^{2}} \right) = 4$

따라서 $\lim_{n \to \infty} \frac{S_{n+1} - S_{n}}{n^{2}} = 4$

**[다른 풀이]**
자연수 $m$에 대하여 $2m-2 < x < 2m-1$과 $\frac{1}{2} x^{2} < y < x^{2}$에서 조건을 만족시키는 정사각형의 개수를 $a_{2m-1}$이라 하면
$a_{2m-1} = (2m-1)^{2} - \frac{(2m-2)^{2}}{2} = 2m^{2} - 1$

$2m-1 \le x < 2m$과 $\frac{1}{2} x^{2} < y < x^{2}$에서 조건을 만족시키는 정사각형의 개수를 $a_{2m}$이라 하면
$a_{2m} = (2m)^{2} - \frac{(2m-1)^{2} - 1}{2} = 2m^{2} + 2m$

그러므로
$S_{n} = \sum_{m=1}^{n-1} (2m^{2} + 2m) + \sum_{m=1}^{n} (2m^{2} - 1)$
$= \frac{n(4n^{2} + 2)}{3} + n^{2} - 2n$

$S_{n+1} - S_{n} = \left\{ \frac{(n+1)(4(n+1)^{2} + 2)}{3} + (n+1)^{2} - 2(n+1) \right\} - \left\{ \frac{n(4n^{2} + 2)}{3} + n^{2} - 2n \right\}$
$= 4n^{2} + 6n + 1$

따라서 $\lim_{n \to \infty} \frac{S_{n+1} - S_{n}}{n^{2}} = \lim_{n \to \infty} \frac{4n^{2} + 6n + 1}{n^{2}} = 4$

정답: $4$