## 문제
두 함수 $f(x) = -x^2 + 2x + 1$, $g(x) = a^x$ ($a > 0$, $a \neq 1$)가 있다. $-1 \le x \le 2$에서 두 함수 $f(g(x))$, $g(f(x))$의 최댓값이 같아지도록 하는 모든 $a$의 값의 합은?

## 보기
① $\frac{3\sqrt{2}}{2}$   ② $\frac{4\sqrt{2}}{3}$   ③ $\sqrt{2}$   ④ $\frac{2\sqrt{2}}{3}$   ⑤ $\frac{\sqrt{2}}{2}$

## 풀이
$f(g(x)) = f(a^x) = -(a^x)^2 + 2a^x + 1 = -(a^x - 1)^2 + 2$
$g(f(x)) = a^{f(x)} = a^{-x^2 + 2x + 1} = a^{-(x-1)^2 + 2}$
($-1 \le x \le 2$)

(ⅰ) $a > 1$ 일 때,
$a^x = t$ ($t > 0$)라 하면
$f(g(x)) = -(t-1)^2 + 2$
$-1 \le x \le 2$ 이므로 $\frac{1}{a} \le t \le a^2$ 이다.
$0 < \frac{1}{a} < 1$ 이고 $a^2 > 1$ 이므로 $t = 1$ 일 때 $f(g(x))$ 의 최댓값은 $2$ 이다.
함수 $g(f(x)) = a^{f(x)}$ 은 $a > 1$ 이므로 $f(x)$ 가 최대일 때 최댓값을 갖는다.
따라서 $x = 1$ 일 때 $f(x)$ 는 최댓값 $2$ 를 가지므로 $g(f(x))$ 의 최댓값은 $a^2$ 이다.
$a^2 = 2$ 에서 $a = \sqrt{2}$ ($\because a > 1$)

(ⅱ) $0 < a < 1$ 일 때,
$a^x = t$ ($t > 0$)라 하면
$f(g(x)) = -(t-1)^2 + 2$
$-1 \le x \le 2$ 이므로 $a^2 \le t \le \frac{1}{a}$ 이다.
이때 $0 < a^2 < 1$ 이고 $\frac{1}{a} > 1$ 이므로 $t = 1$ 일 때 $f(g(x))$ 의 최댓값은 $2$ 이다.
함수 $g(f(x)) = a^{f(x)}$ 은 $0 < a < 1$ 이므로 $f(x)$ 가 최소일 때 최댓값을 갖는다.
$-1 \le x \le 2$ 에서 $f(x) = -(x-1)^2 + 2$ 의 최솟값은 $x = -1$ 일 때 $f(-1) = -2$ 이다.
따라서 $g(f(x))$ 의 최댓값은 $a^{-2}$ 이다.
$a^{-2} = 2$ 에서 $a^2 = \frac{1}{2}$
$a = \frac{1}{\sqrt{2}} = \frac{\sqrt{2}}{2}$ ($\because 0 < a < 1$)

(ⅰ), (ⅱ)에서 모든 $a$ 값의 합은
$\sqrt{2} + \frac{\sqrt{2}}{2} = \frac{3\sqrt{2}}{2}$

정답: ①