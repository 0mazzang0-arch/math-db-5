## 문제
좌표평면에서 자연수 $n$에 대하여 영역 
$$ \{ (x, y) \mid 2^{x}-n \leq y \leq \log_{2}(x+n) \} $$ 
에 속하는 점 중 다음 조건을 만족시키는 점의 개수를 $a_{n}$이라 하자. 

(가) $x$ 좌표와 $y$ 좌표는 서로 같다. 
(나) $x$ 좌표와 $y$ 좌표는 모두 정수이다. 

예를 들어, $a_{1}=2$, $a_{2}=4$이다. $\sum_{n=1}^{30} a_{n}$의 값을 구하시오. 

## 보기

## 풀이
$y=2^{x}-n$의 역함수를 구해보면 $2^{x}=y+n$에서 $x=\log_{2}(y+n)$이므로 $x$와 $y$를 서로 바꾸면 $y=\log_{2}(x+n)$이다. 
즉, $y=2^{x}-n$와 $y=\log_{2}(x+n)$은 서로 역함수의 관계이므로 두 곡선은 직선 $y=x$에 대하여 대칭이다. 
따라서 주어진 조건을 만족하는 점의 좌표를 $(m, m)$ ($m$은 정수)라고 하면 
$$ 2^{m}-n \leq m \leq \log_{2}(m+n) $$ 
$2^{m}-m \leq n$을 만족하는 $m, n$에 대하여 $m \leq \log_{2}(m+n)$이 성립하므로 
$2^{m}-m \leq n \dots$ ㉠ 
이라 하면 
$2^{-30}-(-30) = \frac{1}{2^{30}} + 30, 2^{-29}-(-29) = \frac{1}{2^{29}} + 29$ 
$\dots$ 
$2^{-3}-(-3) = \frac{1}{8} + 3, 2^{-2}-(-2) = \frac{1}{4} + 2$ 
$2^{-1}-(-1) = \frac{1}{2} + 1, 2^{0}-0 = 1$ 
$2^{1}-1 = 1, 2^{2}-2 = 2$ 
$2^{3}-3 = 5, 2^{4}-4 = 12$ 
$2^{5}-5 = 27, 2^{6}-6 = 58$ 
$\dots$ 
이므로 자연수 $n$에 대하여 ㉠을 만족시키는 정수 $m$의 값은 다음과 같다. 

$$ \begin{array}{l|l} 
n=1 & m=0, 1 \\ \hline
n=2 & m=0, 1, 2, -1 \\ \hline
n=3 & m=0, 1, 2, -1, -2 \\ \hline
n=4 & m=0, 1, 2, -1, -2, -3 \\ \hline
n=5 & m=0, 1, 2, 3, -1, -2, -3, -4 \\ \hline
\vdots & \vdots \\ \hline
n=30 & m=0, 1, \dots, 5, -1, -2, \dots, -29 
\end{array} $$ 

$\therefore \sum_{n=1}^{30} a_{n}$ 
$= 2 \times 1 + 3 \times 3 + 4 \times 7 + 5 \times 15 + 6 \times 4 + (1 + 2 + \dots + 29)$ 
$= 2 + 9 + 28 + 75 + 24 + \frac{29 \times 30}{2}$ 
$= 138 + 435 = 573$ 

[정답] $573$