## 문제
다음은 집합 $X = \{1, 2, 3, 4, 5, 6\}$과 함수 $f:X \rightarrow X$에 대하여 합성함수 $f \circ f$의 치역의 원소의 개수가 $5$인 함수 $f$의 개수를 구하는 과정이다.

$$ \begin{array}{|l|} \hline \text{함수 } f \text{와 함수 } f \circ f \text{의 치역을 각각 } A \text{와 } B \text{라 하자.} \\ n(A) = 6 \text{이면 함수 } f \text{는 일대일 대응이고, 함수 } f \circ f \text{도 일대일 대응이므로 } n(B) = 6 \text{이다.} \\ \text{또한 } n(A) \le 4 \text{이면 } B \subset A \text{이므로 } n(B) \le 4 \text{이다.} \\ \text{그러므로 } n(A) = 5 \text{, 즉 } B = A \text{인 경우만 생각하면 된다.} \\ \text{(ⅰ) } n(A) = 5 \text{인 } X \text{의 부분집합 } A \text{를 선택하는 경우의 수는 (가)이다.} \\ \text{(ⅱ) (ⅰ)에서 선택한 집합 } A \text{에 대하여, } X \text{의 원소 중 } A \text{에 속하지 않는 원소를 } k \text{라 하자.} \\ \quad n(A) = 5 \text{이므로 집합 } A \text{에서 } f(k) \text{를 선택하는 경우의 수는 (나)이다.} \\ \text{(ⅲ) (ⅰ)에서 선택한 } A = \{a_1, a_2, a_3, a_4, a_5\} \text{와 (ⅱ)에서 선택한 } f(k) \text{에 대하여, } \\ \quad f(k) \in A \text{이며 } A = B \text{이므로} \\ \quad A = \{ f(a_1), f(a_2), f(a_3), f(a_4), f(a_5) \} \cdots (*) \\ \quad \text{(*)를 만족시키는 경우의 수는 집합 } A \text{에서 집합 } A \text{로의 일대일 대응의 개수와 같으므로 (다)이다.} \\ \text{따라서 (ⅰ), (ⅱ), (ⅲ)에 의하여 구하는 함수 } f \text{의 개수는 (가) } \times \text{ (나) } \times \text{ (다) 이다.} \\ \hline \end{array} $$

위의 (가), (나), (다)에 알맞은 수를 각각 $p$, $q$, $r$라 할 때, $p + q + r$의 값은?

## 보기
① $131$   ② $136$   ③ $141$   ④ $146$   ⑤ $151$

## 풀이
함수 $f$와 함수 $f \circ f$의 치역을 각각 $A$와 $B$라 하자.

$n(A) = 6$이면 함수 $f$는 일대일 대응이고, 함수 $f \circ f$도 일대일 대응이므로 $n(B) = 6$이다.
또한 $n(A) \le 4$이면 $B \subset A$이므로 $n(B) \le 4$이다.
그러므로 $n(A) = 5$, 즉 $B = A$인 경우만 생각하면 된다.

(ⅰ) $n(A) = 5$인 $X$의 부분집합 $A$를 선택하는 경우의 수는 ${}_{6}\mathrm{C}_{5} = 6$이다.
따라서 $p = 6$이다.

(ⅱ) (ⅰ)에서 선택한 집합 $A$에 대하여, $X$의 원소 중 $A$에 속하지 않는 원소를 $k$라 하자.
$n(A) = 5$이므로 집합 $A$에서 $f(k)$를 선택하는 경우의 수는 $k$를 제외한 $5$개의 원소 중에서 하나를 택하면 되므로 ${}_{5}\mathrm{C}_{1} = 5$이다.
따라서 $q = 5$이다.

(ⅲ) (ⅰ)에서 선택한 $A = \{a_1, a_2, a_3, a_4, a_5\}$와 (ⅱ)에서 선택한 $f(k)$에 대하여 $f(k) \in A$이며 $A = B$이므로
$A = \{f(a_1), f(a_2), f(a_3), f(a_4), f(a_5)\}$ $\cdots$ (*)
(*)를 만족시키는 경우의 수는 집합 $A$에서 집합 $A$로의 일대일 대응의 개수와 같으므로 $5! = 120$이다.
따라서 $r = 120$이다.

따라서 (ⅰ), (ⅱ), (ⅲ)에 의하여 구하는 함수 $f$의 개수는 $6 \times 5 \times 120 = 3600$이다.
$p = 6, q = 5, r = 120$이므로
$p + q + r = 6 + 5 + 120 = 131$

정답은 ①이다.