## 문제
집합 $X = \{ x | x$ 는 $8$ 이하의 자연수 $\}$ 에 대하여 $X$ 에서 $X$ 로의 함수 $f$ 중에서 임의로 하나를 선택한다. 선택한 함수 $f$ 가 $4$ 이하의 모든 자연수 $n$ 에 대하여 $f(2n-1) < f(2n)$ 일 때, $f(1) = f(5)$ 일 확률은?

## 보기
① $\frac{1}{7}$   ② $\frac{5}{28}$   ③ $\frac{3}{14}$   ④ $\frac{1}{4}$   ⑤ $\frac{2}{7}$

## 풀이
선택한 함수 $f$ 가 $4$ 이하의 모든 자연수 $n$ 에 대하여 $f(2n-1) < f(2n)$ 인 사건을 $A$, $f(1) = f(5)$ 인 사건을 $B$ 라 하면 구하는 확률은 $P(B|A)$ 이다. 

$X$ 에서 $X$ 로의 모든 함수의 개수는 $8^{8}$ 이다. 

$4$ 이하의 자연수 $n$ 에 대하여 $f(2n-1) < f(2n)$ 인 $f(2n-1)$ 과 $f(2n)$ 을 정하는 경우의 수는 
$${}_{8}C_{2} = \frac{8 \times 7}{2 \times 1} = 28$$ 

$4$ 이하의 모든 자연수 $n$ 에 대하여 $f(2n-1) < f(2n)$ 인 경우의 수는 $28^{4}$ 이므로 
$$P(A) = \frac{28^{4}}{8^{8}}$$ 

(ⅰ) $f(1) = f(5)$, $f(2) = f(6)$ 인 경우 
$f(1) = f(5) < f(2) = f(6)$ 이므로 $f(1), f(2), f(5), f(6)$ 을 정하는 경우의 수는 ${}_{8}C_{2}$ 이고, $f(3)$ 과 $f(4)$, $f(7)$ 과 $f(8)$ 을 정하는 경우의 수는 각각 ${}_{8}C_{2}$ 이므로 $f(2) = f(6)$ 인 경우의 수는 
$$({}_{8}C_{2})^{3} = 28^{3}$$ 

(ⅱ) $f(1) = f(5)$, $f(2) \neq f(6)$ 인 경우 
$f(1) = f(5) < f(2) < f(6)$ 또는 $f(1) = f(5) < f(6) < f(2)$ 이므로 $f(1), f(2), f(5), f(6)$ 을 정하는 경우의 수는 
$$2 \times {}_{8}C_{3} = 2 \times \frac{8 \times 7 \times 6}{3 \times 2 \times 1} = 112$$ 
이고, $f(3)$ 과 $f(4)$, $f(7)$ 과 $f(8)$ 을 정하는 경우의 수는 ${}_{8}C_{2} = 28$ 이므로 $f(2) \neq f(6)$ 인 경우의 수는 
$$112 \times 28^{2}$$ 

(ⅰ), (ⅱ)에 의해 
$$P(A \cap B) = \frac{28^{3} + 112 \times 28^{2}}{8^{8}} = \frac{140 \times 28^{2}}{8^{8}}$$ 

따라서 구하는 확률은 
$$P(B|A) = \frac{P(A \cap B)}{P(A)} = \frac{\frac{140 \times 28^{2}}{8^{8}}}{\frac{28^{4}}{8^{8}}} = \frac{140}{28^{2}} = \frac{5}{28}$$