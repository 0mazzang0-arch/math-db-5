## 문제
자연수 $n$에 대하여 두 점 $A(0, n+5)$, $B(n+4, 0)$과 원점 $O$를 꼭짓점으로 하는 삼각형 $AOB$가 있다. 삼각형 $AOB$의 내부에 포함된 정사각형 중 한 변의 길이가 $1$이고 꼭짓점의 $x$좌표와 $y$좌표가 모두 자연수인 정사각형의 개수를 $a_n$이라 하자. $\sum_{n=1}^{8} a_n$의 값을 구하시오.



> [!example] 📸 (그림/그래프)

## 보기

## 풀이
직선 $AB$의 방정식은
$$y = -\frac{n+5}{n+4}x + n+5$$
자연수 $a$에 대하여 $x=a$일 때
$$y = -\frac{n+5}{n+4}a + n+5$$
$$= n+5 - \left( 1 + \frac{1}{n+4} \right) a$$
$$= n+5-a- \frac{a}{n+4}$$
$0 < a < n+4$일 때, $0 < \frac{a}{n+4} < 1$이므로 $x=a$일 때, $y$좌표가 자연수인 점의 개수는 $n+4-a$이다.

두 자연수 $a, b$에 대하여 삼각형 $OAB$의 내부에 포함되는 한 변의 길이가 $1$이고 각 꼭짓점의 좌표가 자연수인 정사각형의 네 꼭짓점의 좌표를 각각 $(a, b), (a+1, b), (a+1, b+1), (a, b+1)$이라 하면

$a=1$일 때, $1 \le b \le n+1$이므로 정사각형의 개수는 $(n+1)$이다.
$a=2$일 때, $1 \le b \le n$이므로 정사각형의 개수는 $n$이다.
$a=3$일 때, $1 \le b \le n-1$이므로 정사각형의 개수는 $(n-1)$이다.
$\vdots$
$a=n+1$일 때, $b=1$이므로 정사각형의 개수는 $1$이다.

따라서
$a_n = (n+1) + n + (n-1) + \dots + 1$
$= \frac{1}{2}(n+1)(n+2)$
$= \frac{1}{2}(n^2 + 3n + 2)$

$\sum_{n=1}^{8} a_n = \frac{1}{2} \sum_{n=1}^{8} (n^2 + 3n + 2)$
$= \frac{1}{2} \left( \frac{8 \times 9 \times 17}{6} + 3 \times \frac{8 \times 9}{2} + 2 \times 8 \right)$
$= 164$

정답: $164$