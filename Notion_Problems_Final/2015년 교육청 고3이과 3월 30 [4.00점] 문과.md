## 문제
함수 $f(x)$가 닫힌 구간 $[0, 2]$에서 $f(x)=|x-1|$이고, 모든 실수 $x$에 대하여 $f(x)=f(x+2)$를 만족시킬 때, 함수 $g(x)$를 $g(x)=x+f(x)$라 하자. 자연수 $n$에 대하여 다음 조건을 만족시키는 두 자연수 $a$, $b$의 순서쌍 $(a, b)$의 개수를 $a_{n}$이라 할 때, $\sum_{n=1}^{15} a_{n}$의 값을 구하시오.

(가) $n \le a \le n+2$
(나) $0 < b \le g(a)$

## 보기

## 풀이
[정답] $427$

[해설]
닫힌 구간 $[0, 2]$에서 함수 $g(x)=x+f(x)$는
$$ g(x) = \begin{cases} 1 & (0 \le x < 1) \\ 2x - 1 & (1 \le x \le 2) \end{cases} $$
이고, 모든 실수 $x$에 대하여
$g(x+2) = (x+2) + f(x+2) = x + 2 + f(x) = g(x) + 2$
이므로 제 $1$사분면에서 함수 $g(x)$의 그래프는 다음과 같다.

> [!example] 📸 (그림/그래프)

이때 $a$, $b$는 자연수이므로 순서쌍 $(a, b)$는 그림에서 $x$좌표와 $y$좌표가 모두 자연수인 점으로 나타내어진다. 또, $a=n$일 때 주어진 조건을 만족시키는 순서쌍 $(a, b)$의 개수는 $g(n)$과 같다. 따라서
$a_{1}=g(1)+g(2)+g(3)=1+3+3=7$
$a_{2}=g(2)+g(3)+g(4)=3+3+5=11$
$a_{3}=g(3)+g(4)+g(5)=3+5+5=13$
$a_{4}=g(4)+g(5)+g(6)=5+5+7=17$
$a_{5}=g(5)+g(6)+g(7)=5+7+7=19$
$a_{6}=g(6)+g(7)+g(8)=7+7+9=23$
$a_{7}=g(7)+g(8)+g(9)=7+9+9=25$
$a_{8}=g(8)+g(9)+g(10)=9+9+11=29$
$\vdots$
여기서
$a_{3}-a_{1}=a_{5}-a_{3}=a_{7}-a_{5}= \dots = 6$
$a_{4}-a_{2}=a_{6}-a_{4}=a_{8}-a_{6}= \dots = 6$
이므로 자연수 $n$에 대하여 $a_{2n-1}$과 $a_{2n}$을 추론하면
$a_{2n-1}=a_{1}+6(n-1)=7+6(n-1)=6n+1$
$a_{2n}=a_{2}+6(n-1)=11+6(n-1)=6n+5$

따라서
$\sum_{n=1}^{15} a_{n} = \sum_{n=1}^{8} a_{2n-1} + \sum_{n=1}^{7} a_{2n}$
$= \sum_{n=1}^{8} (6n+1) + \sum_{n=1}^{7} (6n+5)$
$= \left( 6 \times \frac{8 \times 9}{2} + 1 \times 8 \right) + \left( 6 \times \frac{7 \times 8}{2} + 5 \times 7 \right)$
$= 427$