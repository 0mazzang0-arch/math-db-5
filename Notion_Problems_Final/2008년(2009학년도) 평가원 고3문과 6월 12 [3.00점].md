## 문제
자연수 `$n$`과 `$0 \le p < r \le n+1$`, `$0 \le q < s \le n$`을 만족시키는 네 정수 `$p, q, r, s$`에 대하여 좌표평면에서 네 점 `$A(p, q), B(r, q), C(r, s), D(p, s)$`를 꼭짓점으로 하고 넓이가 `$k^2$`인 정사각형의 개수를 `$a_k$`라고 하자. 다음은 `$\sum_{k=1}^n a_k$`의 값을 구하는 과정이다. (단, `$k$`는 `$n$` 이하의 자연수이다.)

> [!example] 📸 (그림/그래프)

그림과 같이 넓이가 `$k^2$`인 정사각형 `$ABCD$`를 만들 때, 두 점 `$A, B$`의 `$y$`좌표가 주어지면 `$x$`좌표의 차가 `$r-p=k$`인 변 `$AB$`를 택하는 경우의 수는 (가)이다. 또 두 점 `$A, D$`의 `$x$`좌표가 주어지면 `$y$`좌표의 차가 `$s-q=k$`인 변 `$AD$`를 택하는 경우의 수는 (나)이다. 따라서 `$a_k = (n+1)(n+2) - (2n+3)k + k^2$`이다. 그러므로 `$\sum_{k=1}^n a_k = \sum_{k=1}^n \{ (n+1)(n+2) - (2n+3)k + k^2 \} = $` (다). 

(가), (나), (다)에 들어갈 식으로 알맞은 것은?

## 보기
$$ \begin{array}{c|c|c|c} \hline & \text{(가)} & \text{(나)} & \text{(다)} \\ \hline \end{array} $$
① $n-k+1$, $n-k+2$, $\frac{n(n+1)(n+2)}{6}$   ② $n-k+2$, $n-k+1$, $\frac{n(n+1)(n+2)}{6}$   ③ $n-k+1$, $n-k+2$, $\frac{n(n+1)(n+2)}{3}$   ④ $n-k+2$, $n-k+1$, $\frac{n(n+1)(n+2)}{3}$   ⑤ $n-k+1$, $n-k+2$, $\frac{n(n+1)(n+2)}{2}$

## 풀이
정사각형의 한 변의 길이가 `$k$`이므로 `$r-p=k$`, `$s-q=k$`이다.
`$0 \le p < r \le n+1$`에서 `$r = p+k$`를 대입하면 `$p+k \le n+1$`이므로 `$0 \le p \le n-k+1$`이다.
따라서 변 `$AB$`를 택하는 경우의 수는 정수 `$p$`의 개수와 같으므로
`$(n+1-k) - 0 + 1 = n-k+2$`
`$\therefore$ (가) $n-k+2$`

같은 방법으로 `$0 \le q < s \le n$`에서 `$s = q+k$`를 대입하면 `$q+k \le n$`이므로 `$0 \le q \le n-k$`이다.
따라서 변 `$AD$`를 택하는 경우의 수는 정수 `$q$`의 개수와 같으므로
`$(n-k) - 0 + 1 = n-k+1$`
`$\therefore$ (나) $n-k+1$`

정사각형의 개수 `$a_k$`는 변 `$AB$`를 택하는 경우의 수와 변 `$AD$`를 택하는 경우의 수의 곱이므로
`$a_k = (n-k+2)(n-k+1) = (n+1)(n+2) - (2n+3)k + k^2$`
따라서 구하는 합은
`$\sum_{k=1}^{n} a_k = \sum_{k=1}^{n} \{ (n+1)(n+2) - (2n+3)k + k^2 \}$`
`$= n(n+1)(n+2) - (2n+3) \times \frac{n(n+1)}{2} + \frac{n(n+1)(2n+1)}{6}$`
`$= \frac{6n(n+1)(n+2) - 3(2n+3)n(n+1) + n(n+1)(2n+1)}{6}$`
`$= \frac{n(n+1)}{6} \{ 6(n+2) - 3(2n+3) + (2n+1) \}$`
`$= \frac{n(n+1)}{6} ( 6n + 12 - 6n - 9 + 2n + 1 )$`
`$= \frac{n(n+1)}{6} ( 2n + 4 ) = \frac{n(n+1)(n+2)}{3}$`
`$\therefore$ (다) \frac{n(n+1)(n+2)}{3}`

[정답] ④