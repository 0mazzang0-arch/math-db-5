## 문제
자연수 $n$ 에 대하여 곡선 $y= \log_{2} x$ 의 점 $(n, \log_{2} n)$ 과 곡선 $y=2^{x}$ 의 점 $(\log_{2} n, n)$ 을 잇는 선분에 있는 점 중에서 $x$ 좌표와 $y$ 좌표가 모두 정수인 점의 개수를 $a_{n}$ 이라 하자. 이때 $\sum_{n=1}^{2011} a_{n}$ 의 값은?



> [!example] 📸 (그림/그래프)

## 보기
① $2000$   ② $2003$   ③ $2006$   ④ $2009$   ⑤ $2012$

## 풀이
[정답] ②

점 $(n, \log_{2} n)$ 과 점 $(\log_{2} n, n)$ 을 잇는 선분의 기울기는 $-1$ 이다. 점 $(a, b)$ 가 기울기가 $-1$ 인 직선 위의 점일 때, 임의의 정수 $m$ 에 대하여 점 $(a-m, b+m)$ 도 동일한 직선 위에 놓이게 된다. 따라서 $a$ 또는 $b$ 가 정수가 아니면 이 직선 위의 점 중에는 $x$ 좌표와 $y$ 좌표가 모두 정수인 점이 존재하지 않는다. $\log_{2} n$ 은 자연수 $n$ 이 $n=2^{k}$ ($k$ 는 음이 아닌 정수) 꼴일 때, 정수가 되고 나머지 경우는 정수가 되지 못한다. 따라서 $n=2^{k}$ ($k$ 는 음이 아닌 정수) 꼴일 때, 점 $(n, \log_{2} n)$ 과 점 $(\log_{2} n, n)$ 을 잇는 선분 위의 점 중 $x$ 좌표와 $y$ 좌표 모두 정수인 점이 존재하며 그 개수는 $n - \log_{2} n + 1 = 2^{k} - k + 1$ 이다. 

즉, $n=2^{k}$ 일 때, $a_{n}=2^{k}-k+1$ 이고 $n \neq 2^{k}$ 일 때, $a_{n}=0$ 이다. ($k$ 는 음이 아닌 정수)

$2^{10} < 2011 < 2^{11}$ 이므로

$\sum_{n=1}^{2011} a_{n} = \sum_{k=0}^{10} (2^{k}-k+1) = \sum_{k=1}^{11} (2^{k-1}-k+2)$
$= \frac{2^{11}-1}{2-1} - \frac{11 \cdot 12}{2} + 2 \cdot 11 = 2003$