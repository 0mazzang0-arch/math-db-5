## 문제
숫자 $1$, $2$, $3$, $4$ 중에서 중복을 허락하여 네 개를 선택한 후 일렬로 나열할 때, 다음 조건을 만족시키도록 나열하는 경우의 수를 구하시오.

(가) 숫자 $1$은 한 번 이상 나온다.
(나) 이웃한 두 수의 차는 모두 $2$ 이하이다.

## 풀이
(ⅰ) $1$, $2$, $3$에서만 선택한 후 나열하는 경우
$1$, $2$, $3$ 중에서 중복을 허락하여 $4$개를 선택하여 일렬로 나열하는 경우에서 $2$, $3$ 중에서만 선택하여 나열하는 경우를 제외하면 되므로 구하는 경우의 수는
$${}_{3}\Pi_{4} - {}_{2}\Pi_{4} = 3^{4} - 2^{4} = 65$$

(ⅱ) $1$, $4$, $\square$, $\square$에서 $\square$에 $2$ 또는 $3$이 있도록 선택한 후 나열하는 경우
$1$과 $4$의 위치를 정하는 경우의 수는
$2 \times ({}_{4}C_{2} - 3) = 6$이고, $\square$에 들어갈 수를 정하는 경우의 수는 $2^{2} = 4$이다.
$6 \times 4 = 24$

(ⅲ) $1$, $1$, $4$, $\square$ 또는 $1$, $4$, $4$, $\square$에서 $\square$에 $2$ 또는 $3$이 있도록 선택한 후 나열하는 경우
$1$, $1$, $4$를 나열하는 경우는 $11\square 4$, $4\square 11$이고, $\square$에 $2$ 또는 $3$을 나열할 수 있으므로 경우의 수는 $2 \times 2 = 4$이다.
$1$, $4$, $4$, $\square$인 경우는 $1$, $1$, $4$, $\square$인 경우와 같은 방법으로 생각하면 경우의 수는 $4$이다.
$4 + 4 = 8$

(ⅰ), (ⅱ), (ⅲ)에 의하여 구하는 경우의 수는
$65 + 24 + 8 = 97$

정답: $97$