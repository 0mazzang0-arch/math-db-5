## 문제
두 집합 $X = \{ 1, 2, 3, 4, 5, 6, 7, 8 \}$, $Y = \{ 1, 2, 3 \}$에 대하여 다음 조건을 만족시키는 모든 함수 $f : X \to Y$의 개수는?

(가) 집합 $X$의 임의의 두 원소 $x_1$, $x_2$에 대하여 $x_1 < x_2$이면 $f(x_1) \le f(x_2)$이다.
(나) 집합 $X$의 모든 원소 $x$에 대하여 $(f \circ f \circ f)(x) = 1$이다.

## 보기
① $24$   ② $27$   ③ $30$   ④ $33$   ⑤ $36$

## 풀이
구하고자 하는 함수의 개수를 치역에 따라 분류하면 다음과 같다.

(ⅰ) 치역이 $\{ 1 \}$인 경우
$1$가지이다.

(ⅱ) 치역이 $\{ 1, 2 \}$인 경우
(가) 조건에 의해 $f(1) = 1$이어야 한다.
($1$) $f(2) = 1$일 때:
$x = 2$인 경우 $(f \circ f \circ f)(2) = f(f(1)) = f(1) = 1$이고, $x \ge 3$인 경우도 $(f \circ f \circ f)(x)$는 $f(f(1)) = 1$ 또는 $f(f(2)) = 1$이므로 주어진 조건을 만족한다. $3$ 이상의 정의역 원소 $6$개가 $1, 2$에 대응하는 개수를 각각 $x_1, x_2$라 하면, $x_1 + x_2 = 6$ ($x_1 \ge 0, x_2 \ge 1$인 정수)이다.
따라서 ${}_2 \text{H}_{6-1} = {}_2 \text{H}_5 = {}_6 \text{C}_5 = 6$가지이다.
($2$) $f(2) = 2$일 때:
$(f \circ f \circ f)(2) = f(f(2)) = f(2) = 2$이므로 조건 (나)에 모순된다.

(ⅲ) 치역이 $\{ 1, 3 \}$인 경우
($1$) $f(2) = 1, f(3) = 1$인 경우:
$(f \circ f \circ f)(x)$는 $f(f(1)) = 1$ 또는 $f(f(3)) = 1$이므로 성립한다. $4$ 이상의 정의역 원소 $5$개가 $1, 3$에 대응하는 개수를 각각 $x_1, x_2$라 하면, $x_1 + x_2 = 5$ ($x_1 \ge 0, x_2 \ge 1$인 정수)이다.
따라서 ${}_2 \text{H}_{5-1} = {}_2 \text{H}_4 = {}_5 \text{C}_4 = 5$가지이다.
($2$) $f(2) = 1, f(3) = 3$인 경우:
$(f \circ f \circ f)(3) = f(f(3)) = f(3) = 3$이므로 모순된다.
($3$) $f(2) = 3$인 경우:
$f(3) \ge f(2) = 3$에서 $f(3) = 3$이므로 $(f \circ f \circ f)(2) = 3$이 되어 모순된다.

(ⅳ) 치역이 $\{ 1, 2, 3 \}$인 경우
(ⅱ), (ⅲ)의 결과에 의해 $f(1) = 1, f(2) = 1$이고 $f(3)$은 $1$ 또는 $2$여야 한다. $3$ 이상의 정의역 원소 $6$개가 $1, 2, 3$에 각각 대응하는 개수를 $x_1, x_2, x_3$라 하면, $x_1 + x_2 + x_3 = 6$ ($x_1 \ge 0, x_2 \ge 1, x_3 \ge 1$인 정수)이다.
따라서 ${}_3 \text{H}_{6-2} = {}_3 \text{H}_4 = {}_6 \text{C}_4 = 15$가지이다.

따라서 (ⅰ), (ⅱ), (ⅲ), (ⅳ)에서 조건을 만족시키는 모든 함수 $f : X \to Y$의 개수는
$1 + 6 + 5 + 15 = 27$가지이다.

[정답] ②