## 문제
두 집합 $A = \{ 2l \mid l \text{은 자연수} \}$, $B = \{ 2^{m} \mid m \text{은 자연수} \}$가 있다. 집합 $A$의 원소 $a$에 대하여 집합 $B$의 원소 중 $a$의 약수의 최댓값을 $M(a)$라 하자. 예를 들어, $M(2) = 2$, $M(12) = 4$이다. 수열 $\{ a_{n} \}$을 
$a_{n} = \sum_{k=1}^{2^{n-1}} M(2k)$ $(n = 1, 2, 3, \dots)$라 할 때, $\lim_{n \to \infty} \frac{150a_{n}}{(3n+1) \times 2^{n}}$의 값을 구하시오.

## 보기

## 풀이
$a_{n} = \sum_{k=1}^{2^{n-1}} M(2k) = M(2) + M(4) + M(6) + \cdots + M(2^{n})$이므로 $a_{n}$은 집합 $B$의 원소 중에서 집합 $A$의 원소인 $2, 4, 6, 8, \dots, 2^{n}$에서 각각 가장 큰 약수를 찾아 합한 것과 같다.
그리고 $2, 4, 6, 8, \dots, 2^{n}$의 개수는 $2^{n-1}$개이다.

$n=1$이면 $a_{1} = M(2) = 2$이다.

$n \ge 2$일 때,
(ⅰ) $M(2k)=2$인 $k$의 개수는 $2, 4, 6, 8, \dots, 2^{n}$을 $2 \times (\text{홀수})$로 나타낼 수 있는 수의 개수와 같으므로 $2$의 배수 중 $4$의 배수가 아닌 것의 개수와 같다.
따라서 $k$의 개수는 $\frac{2^{n}}{2} - \frac{2^{n}}{2^{2}} = \frac{2^{n-1}}{2} = 2^{n-2}$ ($n \ge 2$)개이다.

(ⅱ) $M(2k)=4$인 $k$의 개수는 $2, 4, 6, 8, \dots, 2^{n}$을 $4 \times (\text{홀수})$로 나타낼 수 있는 수의 개수와 같으므로 $4$의 배수 중 $8$의 배수가 아닌 것의 개수와 같다.
따라서 $k$의 개수는 $\frac{2^{n}}{2^{2}} - \frac{2^{n}}{2^{3}} = \frac{2^{n-1}}{2^{2}} = 2^{n-3}$ ($n \ge 3$)개이다.

(ⅲ) $M(2k)=8$인 $k$의 개수는 $2, 4, 6, 8, \dots, 2^{n}$을 $8 \times (\text{홀수})$로 나타낼 수 있는 수의 개수와 같으므로 $8$의 배수 중 $16$의 배수가 아닌 것의 개수와 같다.
따라서 $k$의 개수는 $\frac{2^{n}}{2^{3}} - \frac{2^{n}}{2^{4}} = \frac{2^{n-1}}{2^{3}} = 2^{n-4}$ ($n \ge 4$)개이다.

이와 같은 방법으로 계속하면 $n \ge 2$인 $n$에 대하여 $M(2k) = 2^{i}$ ($i = 1, 2, 3, \dots, n-1$)인 $k$의 개수는 $2, 4, 6, 8, \dots, 2^{n}$ 중에서 $2^{i} \times (\text{홀수})$로 나타낼 수 있는 수의 개수와 같으므로 $2^{i}$의 배수 중 $2^{i+1}$의 배수가 아닌 것의 개수와 같다.
따라서 $k$의 개수는 $\frac{2^{n}}{2^{i}} - \frac{2^{n}}{2^{i+1}} = \frac{2^{n-1}}{2^{i}} = 2^{n-i-1}$ ($n \ge i+1$)개이다.

또한, $M(2k) = 2^{n}$을 만족하는 $k$는 $2^{n-1}$뿐이므로 $k$의 개수는 $1$개이다.

따라서 $n \ge 2$일 때
$a_{n} = \sum_{k=1}^{2^{n-1}} M(2k) = M(2) + M(4) + M(6) + \cdots + M(2^{n})$
$= (2 \times 2^{n-2} + 2^{2} \times 2^{n-3} + \cdots + 2^{n-1} \times 2^{0}) + 2^{n} \times 1$
$= \sum_{i=1}^{n-1} (2^{i} \cdot 2^{n-i-1}) + 2^{n} \cdot 1$
$= \sum_{i=1}^{n-1} 2^{n-1} + 2^{n} \cdot 1$
$= 2^{n-1}(n-1) + 2^{n}$
$= 2^{n-1}(n+1)$이다.

그러므로
$\lim_{n \to \infty} \frac{150a_{n}}{(3n+1) \times 2^{n}} = \lim_{n \to \infty} \frac{150(n+1)2^{n-1}}{(3n+1) \times 2^{n}} = 25$이다.