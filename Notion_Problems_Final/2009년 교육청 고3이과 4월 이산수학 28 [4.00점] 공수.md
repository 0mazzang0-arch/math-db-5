## 문제
집합 $A = \{ 1, 2, 3, 4, 5 \}$ 에 대하여 $A$ 에서 $A$ 로의 일대일대응을 $f$ 라 할 때, $|f(1)-f(2)|=1$ 또는 $|f(2)-f(3)|=1$ 을 만족하는 $f$ 의 개수는?

## 보기
① $48$   ② $56$   ③ $64$   ④ $78$   ⑤ $84$

## 풀이
$i)$ $f(2)=1$ 인 경우
$f(1)=2$ 또는 $f(3)=2$ 이어야 한다.
이 경우의 수는 (전체 일대일대응 개수) $-$ ($f(1) \neq 2$ 이고 $f(3) \neq 2$ 인 경우)로 구할 수 있다.
$f(2)=1$ 을 고정하면 남은 원소는 $\{2, 3, 4, 5\}$ 이다.
$f(1)$ 이 될 수 있는 값은 $2$ 하나뿐이고, $f(3)$ 이 될 수 있는 값도 $2$ 하나뿐이므로 포함-배제의 원리를 사용하거나 여사건을 이용한다.
$|f(1)-f(2)|=1$ 인 사건을 $X$, $|f(2)-f(3)|=1$ 인 사건을 $Y$ 라 하면
$n(X) = 1 \times 3! = 6$
$n(Y) = 1 \times 3! = 6$
$n(X \cap Y)$ 는 $f(1)=2, f(3)=2$ 인 경우인데 $f$ 가 일대일대응이므로 불가능하다. ($0$ 개)
따라서 $6+6-0=12$ 개이다.

$ii)$ $f(2)=2$ 인 경우
$|f(1)-2|=1$ 또는 $|f(3)-2|=1$ 인 경우의 수를 구한다.
즉, $f(1) \in \{1, 3\}$ 또는 $f(3) \in \{1, 3\}$ 인 경우이다.
$n(X) = 2 \times 3! = 12$
$n(Y) = 2 \times 3! = 12$
$n(X \cap Y) = 2 \times 1 \times 2! = 4$ ($f(1), f(3)$ 이 $\{1, 3\}$ 을 나누어 갖는 경우)
따라서 $12+12-4=20$ 개이다.
(또는 전체 $4!$ 에서 $f(1), f(3) \notin \{1, 3\}$ 인 경우인 $2 \times 1 \times 2! = 4$ 를 제외하여 $24-4=20$ 개)

$f(2)=3$ 또는 $4$ 인 경우는 $ii)$ 와 같고 $f(2)=5$ 인 경우는 $i)$ 과 같으므로
$f$ 의 개수는 $12 \times 2 + 20 \times 3 = 84$ 개이다.

정답: ⑤