## 문제
집합 $X = \{ 1, 2, 3, 4, 5 \}$ 에 대하여 $X$ 에서 $X$ 로의 함수 중에서 다음 조건을 만족시키는 함수 $f$ 의 개수는?

$$ \{ (f \circ f)(x) \mid x \in X \} \cup \{ 4, 5 \} = X $$

## 보기
① $402$   ② $424$   ③ $438$   ④ $456$   ⑤ $480$

## 풀이
$\{ 1, 2, 3 \} \subset f(f(X)) \subset f(X)$ 이다.

(ⅰ) $f(X) = X$ 인 경우 : 
$5! = 120$ 가지 모두 가능하다.

(ⅱ) $f(X) = \{ 1, 2, 3, 4 \}$ 인 경우 
$f(f(X)) = \{ 1, 2, 3 \}$ 일 때, 
$f(5) = 4$ 인 것은 분명하고, 
$\{ 1, 2, 3, 4 \} \to \{ 1, 2, 3 \}$ 인 경우는 
$3 \times \frac{4!}{2!} = 36$ 가지 

$f(f(X)) = \{ 1, 2, 3, 4 \}$ 인 경우 
$f(5)$ 의 값은 $1, 2, 3, 4 \dots 4$ 가지 모두 가능하고 
$\{ 1, 2, 3, 4 \} \to \{ 1, 2, 3, 4 \}$ 에서 
$4! = 24$ 이므로 
$4 \times 24 = 96$ 가지 

(ⅲ) $f(X) = \{ 1, 2, 3, 5 \}$ 인 경우도 (ⅱ)와 마찬가지이다.

(ⅳ) $f(X) = \{ 1, 2, 3 \}$ 인 경우 
$f(f(X)) = \{ 1, 2, 3 \}$ 이므로 
$f(4), f(5)$ 의 값은 $1, 2, 3 \dots$ 각각 $3$ 가지 모두 가능하고 
$\{ 1, 2, 3 \} \to \{ 1, 2, 3 \}$ 에서 
$3! = 6$ 이므로 
$3 \times 3 \times 3! = 54$ 가지 

따라서 구하려는 함수 $f$ 의 개수는 
$120 + 2(36 + 96) + 54 = 438$