## 문제

다음과 같이 두 수 $0$과 $1$만을 사용하여 제 $n$행에 $n$자리의 자연수를 크기순으로 모두 나열해 나간다. ($n=1, 2, 3, \cdots$)

$$ \begin{array}{lc} 
\text{제 } 1 \text{ 행} & 1 \\ 
\text{제 } 2 \text{ 행} & 10, 11 \\ 
\text{제 } 3 \text{ 행} & 100, 101, 110, 111 \\ 
\text{제 } 4 \text{ 행} & 1000, 1001, 1010, 1011, 1100, 1101, 1110, 1111 \\ 
\vdots & \vdots 
\end{array} $$

제 $n$행에 나열한 모든 수의 합을 $a_n$이라 하자. 예를 들어, $a_2 = 21$, $a_3 = 422$이다. $\lim_{n \to \infty} \frac{a_n}{20^n} = \frac{q}{p}$일 때, $p+q$의 값을 구하시오. (단, $p$, $q$는 서로소인 자연수이다.)

## 보기

## 풀이

$a_1 = 1$
$a_2 = 2 \times 10 + 1$
$a_3 = 4 \times 10^2 + 2 \times (10+1)$
$a_4 = 8 \times 10^3 + 4 \times (10^2 + 10 + 1)$

$\therefore a_n = 2^{n-1} \times 10^{n-1} + 2^{n-2} \times (10^{n-2} + 10^{n-3} + \cdots + 10 + 1)$
$= (20)^{n-1} + 2^{n-2} \times \frac{10^{n-1} - 1}{10 - 1}$
$= \frac{19}{18} (20)^{n-1} - \frac{1}{9} \cdot 2^{n-2}$

$\therefore \lim_{n \to \infty} \frac{a_n}{20^n} = \lim_{n \to \infty} \left\{ \frac{19}{360} - \frac{1}{36} \left( \frac{1}{10} \right)^n \right\} = \frac{19}{360}$

$\therefore p = 360, q = 19, p+q = 379$

**[별해]**

$$ \begin{cases} a_n = 10 \cdots 00 + 10 \cdots 01 + \cdots + 11 \cdots 11 \\ a_n = 11 \cdots 11 + 11 \cdots 01 + \cdots + 10 \cdots 00 \end{cases} $$
에서 변끼리 더하면
$2a_n = 21 \cdots 11 \times 2^{n-1}$

$\therefore a_n = 21 \cdots 11 \times 2^{n-2} = (2 \times 10^{n-1} + 1 \cdots 11) \times 2^{n-2}$
$= 20^{n-1} + \frac{10^{n-1}-1}{9} \times 2^{n-2}$
$= 20^{n-1} + \frac{20^{n-1}}{18} - \frac{2^{n-2}}{9}$

$\therefore \lim_{n \to \infty} \frac{a_n}{20^n} = \frac{1}{20} + \frac{1}{20 \cdot 18} = \frac{19}{360}$ 이므로
$360 + 19 = 379$

**정답: $379$**