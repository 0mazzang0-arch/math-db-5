## 문제
자연수 $p$와 실수 $q$ ($q \ge 0$)에 대하여 함수 $f(x)$는
$$f(x) = |p \sin x - q|$$
이다. $f(a) = q$인 서로 다른 모든 양수 $a$를 작은 수부터 크기순으로 나열할 때, $n$번째 수를 $a_n$이라 하자. 수열 $\{a_n\}$과 함수 $f(x)$가 다음 조건을 만족시킨다.

(가) 세 항 $a_1$, $a_4$, $a_7$은 이 순서대로 등차수열을 이룬다.
(나) 함수 $f(x)$의 최댓값은 $15$이다.

두 수 $p$, $q$의 모든 순서쌍 $(p, q)$의 개수를 구하시오.



> [!example] 📸 (그림/그래프)

## 보기

## 풀이
$f(a) = q$를 만족하는 조건은 $|p \sin a - q| = q$이므로
$p \sin a - q = q$ 또는 $p \sin a - q = -q$
즉, $\sin a = \frac{2q}{p}$ 또는 $\sin a = 0$이다.

(ⅰ) $q = 0$인 경우
$f(x) = |p \sin x|$이고, $f(x)$의 주기는 $\pi$이다.
$a_n$은 $\sin a = 0$의 양의 해이므로 $a_n = n\pi$이다.
$a_1 = \pi$, $a_4 = 4\pi$, $a_7 = 7\pi$이므로 세 항은 이 순서대로 등차수열을 이룬다.
이때 $f(x)$의 최댓값은 $p$이므로 $p = 15$이다.
따라서 순서쌍 $(p, q)$는 $(15, 0)$으로 $1$개이다.

(ⅱ) $q > 0$인 경우
함수 $f(x) = |p \sin x - q|$의 최댓값은 $p + q$이므로 $p + q = 15$이다.

① $q > \frac{p}{2}$ ($2q > p$)인 경우
$\sin a = \frac{2q}{p} > 1$이므로 실근이 존재하지 않는다.
따라서 $a_n$은 $\sin a = 0$의 해인 $a_n = n\pi$이다.
$a_1 = \pi$, $a_4 = 4\pi$, $a_7 = 7\pi$는 등차수열을 만족한다.
조건 $q > \frac{p}{2}$와 $p + q = 15$를 만족하는 자연수 $p$와 실수 $q$의 순서쌍은 다음과 같다.
$$ \begin{array}{c|c} p & q \\ \hline 1 & 14 \\ 2 & 13 \\ 3 & 12 \\ 4 & 11 \\ 5 & 10 \\ 6 & 9 \\ 7 & 8 \\ 8 & 7 \\ 9 & 6 \end{array} $$
따라서 이 경우의 개수는 $9$개이다.

② $q = \frac{p}{2}$ ($2q = p$)인 경우
$\sin a = 1$ 또는 $\sin a = 0$이다.
양의 해 $a$를 작은 순서대로 나열하면 $\frac{\pi}{2}, \pi, 2\pi, \frac{5\pi}{2}, 3\pi, 4\pi, \frac{9\pi}{2}, \dots$이다.
$a_1 = \frac{\pi}{2}$, $a_4 = \frac{5\pi}{2}$, $a_7 = \frac{9\pi}{2}$이므로 공차가 $2\pi$인 등차수열을 이룬다.
$p + q = 15$에서 $2q + q = 15$이므로 $q = 5$, $p = 10$이다.
따라서 순서쌍 $(p, q)$는 $(10, 5)$로 $1$개이다.

③ $q < \frac{p}{2}$ ($2q < p$)인 경우
$\sin a = \frac{2q}{p} = k$ ($0 < k < 1$)라 하면, $\sin a = k$의 해를 $\alpha, \pi - \alpha, \dots$라 할 수 있다.
$a_n$을 나열하면 $\alpha, \pi - \alpha, \pi, 2\pi, 2\pi + \alpha, 3\pi - \alpha, 3\pi, 4\pi \dots$이다.
이때 $a_1 = \alpha$, $a_4 = 2\pi$, $a_7 = 3\pi$가 된다.
$a_4 - a_1 = 2\pi - \alpha$이고 $a_7 - a_4 = \pi$이므로, $2\pi - \alpha = \pi$ 즉, $\alpha = \pi$가 되어야 한다.
그러나 $0 < \alpha < \frac{\pi}{2}$이므로 모순이다. 따라서 이 경우 만족하는 순서쌍은 존재하지 않는다.

(ⅰ), (ⅱ)에 의하여 구하는 모든 순서쌍 $(p, q)$의 개수는 $1 + 9 + 1 = 11$이다.

정답: $11$