## 문제
자연수 $m$에 대하여 크기가 같은 정육면체 모양의 블록이 $1$열에 $1$개, $2$열에 $2$개, $3$열에 $3$개, $\cdots$, $m$열에 $m$개 쌓여있다. 블록의 개수가 짝수인 열이 남아 있지 않을 때까지 다음 시행을 반복한다.

> 블록의 개수가 짝수인 각 열에 대하여 그 열에 있는 블록의 개수의 $\frac{1}{2}$만큼의 블록을 그 열에서 들어낸다.

블록을 들어내는 시행을 모두 마쳤을 때, $1$열부터 $m$열까지 남아 있는 블록의 개수의 합을 $f(m)$이라 하자. 예를 들어, $f(2)=2$, $f(3)=5$, $f(4)=6$이다. 
$\lim_{n \to \infty} \frac{f(2^{n+1}) - f(2^n)}{f(2^{n+2})} = \frac{q}{p}$일 때, $p+q$의 값을 구하시오. (단, $p$와 $q$는 서로소인 자연수이다.)



> [!example] 📸 (그림/그래프)

## 보기

## 풀이
$2^{n+1}$열짜리 블록의 개수는 
$1, 2, 3, 4, \cdots, 2^{n}, \cdots, 2^{n+1} \cdots$ ㉠ 

㉠에서 $1$회 시행 후 홀수는 그대로 두고 짝수는 $2$로 나누어 나타내면 
$1, 3, 5, 7, \cdots, (2^{n+1}-1) \cdots$ ㉡ 
과 
$1, 2, 3, 4, \cdots, 2^{n} \cdots$ ㉢ 
으로 표시된다. 

시행을 모두 마쳤을 때, 남은 블록의 합은 
(ⅰ) ㉠은 $f(2^{n+1})$ 
(ⅱ) ㉡은 $1, 3, 5, 7, \cdots, (2^{n+1}-1) = \frac{2^{n}(2^{n+1}-1+1)}{2} = 2^{2n} = 4^{n}$ 
(ⅲ) ㉢은 $f(2^{n})$ 

따라서 $f(2^{n+1}) = 4^{n} + f(2^{n})$ 
$f(2^{n}) = f(2^{1}) + \sum_{k=1}^{n-1} 4^{k}$ 
$= 2 + \frac{4(4^{n-1}-1)}{4-1}$ 
$= \frac{4^{n}+2}{3}$ 

$\therefore \frac{q}{p} = \lim_{n \to \infty} \frac{4^{n}}{\frac{4^{n+2}+2}{3}} = \frac{3}{16}$ 

$\therefore p+q = 16+3 = 19$