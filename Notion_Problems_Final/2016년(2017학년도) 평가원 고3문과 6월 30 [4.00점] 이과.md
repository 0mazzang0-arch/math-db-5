## 문제

다음 조건을 만족시키는 $20$ 이하의 모든 자연수 $n$의 값의 합을 구하시오.

$$ \begin{array}{l} \log_{2} ( na-a^{2} ) \text{과 } \log_{2} ( nb-b^{2} ) \text{은 같은 자연수이고} \\ 0 < b-a \le \frac{n}{2} \text{인 두 실수 } a, b \text{가 존재한다.} \end{array} $$

## 보기

(해당 없음)

## 풀이

진수의 조건에서 $na-a^{2}>0$, $nb-b^{2}>0$이므로 $0<a<n$, $0<b<n$이다.
또한 $\log_{2} ( na-a^{2} ) = \log_{2} ( nb-b^{2} )$에서
$$ na-a^{2} = nb-b^{2} $$
$$ ( b-a ) ( b+a-n ) = 0 $$
$b-a>0$이므로 $b+a=n$이다.

$\log_{2} ( na-a^{2} )$이 자연수이므로 $na-a^{2} = ( b+a ) a-a^{2} = ab$에서
$$ ab = 2^{k} \quad ( k=1, 2, 3, \dots ) $$
꼴이어야 한다.
한편, $0 < b-a \le \frac{n}{2}$에서 $b=n-a$를 대입하면
$$ 0 < ( n-a ) -a \le \frac{n}{2} \implies 0 < n-2a \le \frac{n}{2} $$
$$ \frac{n}{4} \le a < \frac{n}{2} , \quad \frac{n}{2} < b \le \frac{3n}{4} $$
즉 그림과 같이 좌표평면에서 직선 $b+a=n$과 곡선 $ab=2^{k}$가 $\frac{n}{4} \le a < \frac{n}{2}$인 범위에서 만나는 점이 존재해야 한다.

> [!example] 📸 (그림/그래프)

$\frac{2^{k}}{\frac{n}{4}} \ge \frac{3n}{4}$ 및 $\frac{2^{k}}{\frac{n}{2}} < \frac{n}{2}$이 성립해야 하므로
$$ \frac{3n^{2}}{16} \le 2^{k} < \frac{n^{2}}{4} $$
$$ 3n^{2} \le 2^{k+4} < 4n^{2} \quad ( k=1, 2, 3, \dots ) $$

$k$의 값에 따른 $n$의 값은 다음과 같다.

$$ \begin{array}{|c|c|c|} \hline k & 3n^{2} \le 2^{k+4} < 4n^{2} & n \\ \hline k=1 & 3n^{2} \le 32 < 4n^{2} & 3 \\ \hline k=2 & 3n^{2} \le 64 < 4n^{2} & \text{없음} \\ \hline k=3 & 3n^{2} \le 128 < 4n^{2} & 6 \\ \hline k=4 & 3n^{2} \le 256 < 4n^{2} & 9 \\ \hline k=5 & 3n^{2} \le 512 < 4n^{2} & 12, 13 \\ \hline k=6 & 3n^{2} \le 1024 < 4n^{2} & 17, 18 \\ \hline \end{array} $$

따라서 조건을 만족시키는 $20$ 이하의 자연수 $n$의 값은 $3, 6, 9, 12, 13, 17, 18$이고, 그 합은
$$ 3+6+9+12+13+17+18=78 $$
이다.

정답: $78$