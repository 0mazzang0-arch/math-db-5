## 문제
집합 $X = \{ 1, 2, 3, 4, 5 \}$와 함수 $f : X \rightarrow X$에 대하여 함수 $f$의 치역을 $A$, 합성함수 $f \circ f$의 치역을 $B$라 할 때, 다음 조건을 만족시키는 함수 $f$의 개수를 구하시오.

(가) $n(A) \leq 3$
(나) $n(A) = n(B)$
(다) 집합 $X$의 모든 원소 $x$에 대하여 $f(x) \neq x$이다.

## 풀이
조건 (다)에서 함수 $f$는 상수함수일 수 없으므로 $n(A) = 2$ 또는 $n(A) = 3$이다.

(i) $n(A) = 2$인 경우
$A$를 정하는 경우의 수는 ${}_{5}C_{2} = 10$이다.
$A = \{ 1, 2 \}$인 경우를 생각하면 조건 (다)에서 $f(1) = 2$, $f(2) = 1$이다.
$f(3)$, $f(4)$, $f(5)$의 값은 $1$, $2$ 중 하나이므로 $f(3)$, $f(4)$, $f(5)$의 값을 정하는 경우의 수는 ${}_{2}\Pi_{3} = 2^{3} = 8$이다.
$n(A) = 2$인 경우 함수 $f$의 개수는 $10 \times 8 = 80$이다.

(ii) $n(A) = 3$인 경우
$A$를 정하는 경우의 수는 ${}_{5}C_{3} = 10$이다.
$A = \{ 1, 2, 3 \}$인 경우를 생각하면 조건 (다)에서 $(f(1), f(2), f(3))$은 $(2, 3, 1)$, $(3, 1, 2)$ 뿐이므로 $f(1)$, $f(2)$, $f(3)$의 값을 정하는 경우의 수는 $2$이다.
$f(4)$, $f(5)$의 값은 $1$, $2$, $3$ 중 하나이므로 $f(4)$, $f(5)$의 값을 정하는 경우의 수는 ${}_{3}\Pi_{2} = 3^{2} = 9$이다.
$n(A) = 3$인 경우 함수 $f$의 개수는 $10 \times 2 \times 9 = 180$이다.

(i), (ii)에서 구하는 함수 $f$의 개수는 $80 + 180 = 260$이다.

**정답: $260$**